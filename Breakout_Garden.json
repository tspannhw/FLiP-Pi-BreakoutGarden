{"flowContents":{"identifier":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Breakout Garden","comments":"","position":{"x":1312.0,"y":24.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"e710a316-150c-3297-a060-68a5b9b03f99","name":"Filter, Route, Transform","comments":"","position":{"x":144.0,"y":296.0},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.QueryRecord","properties":{"all":"SELECT * \nFROM FLOWFILE\nWHERE CAST(bme680_humidity as FLOAT) > 25\n","cache-schema":"true","dbf-default-precision":"10","record-writer":"5c0c576d-4749-3c15-831c-1c6c6e4e5c2f","record-reader":"2b1e4a8e-a12e-35ee-b446-8efb00f302bb","include-zero-record-flowfiles":"false","dbf-default-scale":"0"},"propertyDescriptors":{"all":{"name":"all","displayName":"all","identifiesControllerService":false,"sensitive":false},"cache-schema":{"name":"cache-schema","displayName":"Cache Schema","identifiesControllerService":false,"sensitive":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"524c1d4e-0683-3574-9a77-8502d149a63e","name":"PutMongoRecord","comments":"","position":{"x":153.49998723285387,"y":485.50003961858147},"bundle":{"group":"org.apache.nifi","artifact":"nifi-mongodb-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.mongodb.PutMongoRecord","properties":{"mongo-client-service":"10c9fdee-8d60-33e4-bbac-db47972efa75","insert_count":"250","Mongo URI":null,"ssl-context-service":null,"ssl-client-auth":"REQUIRED","Mongo Collection Name":"pisensors","record-reader":"2b1e4a8e-a12e-35ee-b446-8efb00f302bb","Mongo Database Name":"inventory","Write Concern":"ACKNOWLEDGED"},"propertyDescriptors":{"mongo-client-service":{"name":"mongo-client-service","displayName":"Client Service","identifiesControllerService":true,"sensitive":false},"insert_count":{"name":"insert_count","displayName":"Insert Batch Size","identifiesControllerService":false,"sensitive":false},"Mongo URI":{"name":"Mongo URI","displayName":"Mongo URI","identifiesControllerService":false,"sensitive":false},"ssl-context-service":{"name":"ssl-context-service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false},"ssl-client-auth":{"name":"ssl-client-auth","displayName":"Client Auth","identifiesControllerService":false,"sensitive":false},"Mongo Collection Name":{"name":"Mongo Collection Name","displayName":"Mongo Collection Name","identifiesControllerService":false,"sensitive":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"Mongo Database Name":{"name":"Mongo Database Name","displayName":"Mongo Database Name","identifiesControllerService":false,"sensitive":false},"Write Concern":{"name":"Write Concern","displayName":"Write Concern","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"6241e81e-f6bb-3187-ba71-d422bc3edf42","name":"Consume Pulsar Records pisensors","comments":"","position":{"x":137.49998723285387,"y":101.50003961858147},"bundle":{"group":"io.streamnative.connectors","artifact":"nifi-pulsar-nar","version":"1.15.2"},"style":{},"type":"org.apache.nifi.processors.pulsar.pubsub.ConsumePulsarRecord","properties":{"MAX_ASYNC_REQUESTS":"50","PULSAR_CLIENT_SERVICE":"53f1d1df-3205-364a-b67e-4f9642fb19a9","Max Wait Time":"5 seconds","Record Reader":"2b1e4a8e-a12e-35ee-b446-8efb00f302bb","SUBSCRIPTION_NAME":"nifi-pisensor-consumer-sub","ACK_TIMEOUT":"30 sec","MESSAGE_DEMARCATOR":"\n","PRIORITY_LEVEL":"5","ASYNC_ENABLED":"false","CONSUMER_BATCH_SIZE":"1000","TOPICS":"persistent://public/default/pi-sensors","RECEIVER_QUEUE_SIZE":"1000","SUBSCRIPTION_TYPE":"Shared","MAPPED_FLOWFILE_ATTRIBUTES":"","Record Writer":"5c0c576d-4749-3c15-831c-1c6c6e4e5c2f","TOPICS_PATTERN":null,"CONSUMER_NAME":"nifi-pisensor-consumer"},"propertyDescriptors":{"MAX_ASYNC_REQUESTS":{"name":"MAX_ASYNC_REQUESTS","displayName":"Maximum Async Requests","identifiesControllerService":false,"sensitive":false},"PULSAR_CLIENT_SERVICE":{"name":"PULSAR_CLIENT_SERVICE","displayName":"Pulsar Client Service","identifiesControllerService":true,"sensitive":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false},"SUBSCRIPTION_NAME":{"name":"SUBSCRIPTION_NAME","displayName":"Subscription Name","identifiesControllerService":false,"sensitive":false},"ACK_TIMEOUT":{"name":"ACK_TIMEOUT","displayName":"Acknowledgment Timeout","identifiesControllerService":false,"sensitive":false},"MESSAGE_DEMARCATOR":{"name":"MESSAGE_DEMARCATOR","displayName":"Message Demarcator","identifiesControllerService":false,"sensitive":false},"PRIORITY_LEVEL":{"name":"PRIORITY_LEVEL","displayName":"Consumer Priority Level","identifiesControllerService":false,"sensitive":false},"ASYNC_ENABLED":{"name":"ASYNC_ENABLED","displayName":"Async Enabled","identifiesControllerService":false,"sensitive":false},"CONSUMER_BATCH_SIZE":{"name":"CONSUMER_BATCH_SIZE","displayName":"Consumer Message Batch Size","identifiesControllerService":false,"sensitive":false},"TOPICS":{"name":"TOPICS","displayName":"Topic Names","identifiesControllerService":false,"sensitive":false},"RECEIVER_QUEUE_SIZE":{"name":"RECEIVER_QUEUE_SIZE","displayName":"Consumer Receiver Queue Size","identifiesControllerService":false,"sensitive":false},"SUBSCRIPTION_TYPE":{"name":"SUBSCRIPTION_TYPE","displayName":"Subscription Type","identifiesControllerService":false,"sensitive":false},"MAPPED_FLOWFILE_ATTRIBUTES":{"name":"MAPPED_FLOWFILE_ATTRIBUTES","displayName":"Mapped FlowFile Attributes","identifiesControllerService":false,"sensitive":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false},"TOPICS_PATTERN":{"name":"TOPICS_PATTERN","displayName":"Topics Pattern","identifiesControllerService":false,"sensitive":false},"CONSUMER_NAME":{"name":"CONSUMER_NAME","displayName":"Consumer Name","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"4028af44-ca9a-3052-ab20-6d54d07b98d4","name":"Store File","comments":"","position":{"x":153.49998723285387,"y":677.5000396185815},"bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"1.15.3"},"style":{},"type":"org.apache.nifi.processors.standard.PutFile","properties":{"Group":null,"Owner":null,"Create Missing Directories":"true","Permissions":null,"Maximum File Count":null,"Last Modified Time":null,"Directory":"/dev/null","Conflict Resolution Strategy":"ignore"},"propertyDescriptors":{"Group":{"name":"Group","displayName":"Group","identifiesControllerService":false,"sensitive":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false},"Create Missing Directories":{"name":"Create Missing Directories","displayName":"Create Missing Directories","identifiesControllerService":false,"sensitive":false},"Permissions":{"name":"Permissions","displayName":"Permissions","identifiesControllerService":false,"sensitive":false},"Maximum File Count":{"name":"Maximum File Count","displayName":"Maximum File Count","identifiesControllerService":false,"sensitive":false},"Last Modified Time":{"name":"Last Modified Time","displayName":"Last Modified Time","identifiesControllerService":false,"sensitive":false},"Directory":{"name":"Directory","displayName":"Directory","identifiesControllerService":false,"sensitive":false},"Conflict Resolution Strategy":{"name":"Conflict Resolution Strategy","displayName":"Conflict Resolution Strategy","identifiesControllerService":false,"sensitive":false}},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","componentType":"PROCESSOR","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"059e79d6-c69b-3a21-8fbc-72d378a5fe60","name":"","source":{"id":"524c1d4e-0683-3574-9a77-8502d149a63e","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"PutMongoRecord","comments":""},"destination":{"id":"eee4d6a3-adcd-3a99-af3d-d9c73a22cba5","type":"FUNNEL","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"59e8c3c2-47a0-3268-8e1a-544b52c80920","name":"","source":{"id":"e710a316-150c-3297-a060-68a5b9b03f99","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Filter, Route, Transform","comments":""},"destination":{"id":"eee4d6a3-adcd-3a99-af3d-d9c73a22cba5","type":"FUNNEL","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"d416c8a1-01ab-3e3b-9d10-262d6817640c","name":"","source":{"id":"524c1d4e-0683-3574-9a77-8502d149a63e","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"PutMongoRecord","comments":""},"destination":{"id":"4028af44-ca9a-3052-ab20-6d54d07b98d4","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Store File","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":329.49998723285387,"y":645.5000396185815}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"8638df76-de2f-3492-a962-86c432238794","name":"","source":{"id":"6241e81e-f6bb-3187-ba71-d422bc3edf42","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Consume Pulsar Records pisensors","comments":""},"destination":{"id":"eee4d6a3-adcd-3a99-af3d-d9c73a22cba5","type":"FUNNEL","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Funnel","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["parse_failure"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"4b340a80-07f9-3a00-a7bd-d3cdbdc0e257","name":"","source":{"id":"e710a316-150c-3297-a060-68a5b9b03f99","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Filter, Route, Transform","comments":""},"destination":{"id":"524c1d4e-0683-3574-9a77-8502d149a63e","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"PutMongoRecord","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["all"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"},{"identifier":"fec5f85d-7a46-3524-8477-c27828427fe3","name":"","source":{"id":"6241e81e-f6bb-3187-ba71-d422bc3edf42","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Consume Pulsar Records pisensors","comments":""},"destination":{"id":"e710a316-150c-3297-a060-68a5b9b03f99","type":"PROCESSOR","groupId":"f4f37856-4517-3a07-8789-c3658fccf27a","name":"Filter, Route, Transform","comments":""},"labelIndex":1,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":100000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"}],"labels":[],"funnels":[{"identifier":"eee4d6a3-adcd-3a99-af3d-d9c73a22cba5","position":{"x":-214.50001276714613,"y":349.50003961858147},"componentType":"FUNNEL","groupIdentifier":"f4f37856-4517-3a07-8789-c3658fccf27a"}],"controllerServices":[],"variables":{},"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":100000,"defaultBackPressureDataSizeThreshold":"1 GB","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{"53f1d1df-3205-364a-b67e-4f9642fb19a9":{"identifier":"53f1d1df-3205-364a-b67e-4f9642fb19a9","name":"Pulsar1_15_Pulsar1"},"2b1e4a8e-a12e-35ee-b446-8efb00f302bb":{"identifier":"2b1e4a8e-a12e-35ee-b446-8efb00f302bb","name":"Infer JsonTreeReader"},"10c9fdee-8d60-33e4-bbac-db47972efa75":{"identifier":"10c9fdee-8d60-33e4-bbac-db47972efa75","name":"Main-MongoDBControllerService-Docker"},"5c0c576d-4749-3c15-831c-1c6c6e4e5c2f":{"identifier":"5c0c576d-4749-3c15-831c-1c6c6e4e5c2f","name":"Standard Inherit JsonRecordSetWriter"}},"parameterContexts":{},"flowEncodingVersion":"1.0"}